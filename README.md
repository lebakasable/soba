# soba

Lisp-flavoured low-level programming language.

## Dependencies

- [LLVM]

## Quick Start

### Bootstrapping

Since Soba is a [self-hosted] programming language (written in itself), you'll first need to bootstrap the compiler :

```console
$ clang -o soba bootstrap.bc -lLLVM
```

Then, you can use the **Noodle** build tool to properly compile and test the project :

```console
$ ./noodle
```

> [!NOTE]
> **Noodle** is a build tool entirely written in Soba. It provides various functions to execute commands, make directories... You can learn more about how to use it [here](./noodle).

[LLVM]: https://llvm.org/
[self-hosted]: https://en.wikipedia.org/wiki/Self-hosting_(compilers)

### Usage

Use the Soba compiler to compile a .soba file to a [LLVM Bytecode](https://llvm.org/docs/BitCodeFormat.html) (.bc) file :

```console
$ cat hello.soba
include std
fn extern main > u64 (
  (printf "Hello, World!")
  0
)
$ ./soba hello.soba hello.bc
```

Then, you can use the [clang](https://clang.llvm.org/) compiler to compile the generated bytecode file to a native executable :

```console
$ clang -o hello hello.bc
$ ./hello
Hello, World!
```

> [!IMPORTANT]
> The Soba standard library depends on [libc](https://en.wikipedia.org/wiki/C_standard_library) (at least for now), so if you wan't to generate static executables, you can but without including the "std.soba" file, located in `$SOBA_LIB_PATH` or in `./lib`.

Check the [examples folder](./examples) and the [compiler itself](./src/compiler.soba) to learn more about how to use the language. 
